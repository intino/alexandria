<script>
    var AlexandriaBehaviors = AlexandriaBehaviors || {};

    AlexandriaBehaviors.CatalogBehavior = {

        properties : {
            _catalog: Object,
            _showLabel : Boolean,
            _filtered : { type: Boolean, value: function() { return false; }},
            _hideGroupings: { type: Boolean, value: function() { return true; }},
            _itemsArrivalMessage : String,
            _groupingsLeft : { type: Boolean, value: function() { return true; } }
        },

        _refreshCatalog : function(catalog) {
            this._groupingsLeft = catalog.arrangementPosition === "Left";
            this._catalog = catalog;
            this._showLabel = catalog.embedded && catalog.label !== "";
            this._hideGroupings = this._catalog.hideGroupings;
            if (!$(this.$.panel).hasClass("hidden")) $(this.$.main).addClass("hidden");
        },

        _refreshFiltered : function(value) {
            this._filtered = value;
        },

        _selectGrouping : function(e) {
        },

        _handleGroupingChange : function(e) {
            this.selectGrouping(e.detail);
        },

        _itemsArrival : function(message) {
            var toast = this.querySelector("paper-toast#itemsArrival");
            if (toast == null) return;
            this._itemsArrivalMessage = message != null && message != "" ? message : this.NewItemsArrival;
            toast.open();
        },

        _openDefaultItem : function(name) {
            this.openItem(name);
        },

        _closeItemsArrival : function() {
            var toast = this.querySelector("paper-toast#itemsArrival");
            if (toast != null) toast.close();
        },

        _refreshWithArrival : function() {
            this.refreshItems();
            this._closeItemsArrival();
        },

    };
</script>
