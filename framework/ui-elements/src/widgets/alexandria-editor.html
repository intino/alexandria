<link rel="import" href="../../lib/polymer/polymer.html">
<link rel="import" href="../../lib/cotton-push/cotton-push-behavior.html">
<link rel="import" href="../../lib/cotton-carrier/cotton-carrier-behavior.html">
<link rel="import" href="../../lib/cotton-zombie/cotton-zombie.html">
<link rel="import" href="../../lib/cotton-translator/cotton-translator-behavior.html">

<script src="alexandriaeditor/requester.js"></script>
<script src="alexandriaeditor/notifier-listener.js"></script>

<dom-module id="alexandria-editor">

    <template>
        <div id="container"></div>
    </template>

    <style>
        :host #container {
            height: 100%;
            width: 100%;
        }
    </style>

    <script>

        const AlexandriaEditorDictionary = {
            es: {
            },
            en: {
            }
        };

        Polymer({
            is: 'alexandria-editor',

            behaviors: [ CottonBehaviors.CarrierBehavior,
                         CottonBehaviors.PushBehavior,
                         CottonBehaviors.TranslatorBehavior,
						 AlexandriaEditorBehaviors.Requester,
						 AlexandriaEditorBehaviors.NotifierListener
                         ],

            properties : {
            },

			attached : function() {
				this.translate(AlexandriaEditorDictionary);
				this.listenToDisplay();
				document.save = this.save.bind(this);
			},

            _displayType : function(type) {
                var zombie = document.createElement("cotton-zombie");
                zombie.setAttribute("display", type);
                zombie.setAttribute("widget", type);
                zombie.setAttribute("object", this.display.id);
                this.$.container.appendChild(zombie);
            },

            _saved : function() {
                if (this.onSaved) this.onSaved();
            }

        });
    </script>
</dom-module>