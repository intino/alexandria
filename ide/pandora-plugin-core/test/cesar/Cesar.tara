dsl Pandora

Service(description = "Cesar Ops Service", basePath = "") cesar as REST(host = "", consumes = "", produces = "")
	Resource(path = "/systems") systems
		Get(description = "List of systems")
			Response as Text
			Exception(ErrorBadRequest)

	Resource(path = "/systems/:system")  System
		Put(description = "Create new system version")
			Parameter(in = path) system as Text
			Parameter(in = query) version as Text
			Response
			Exception(ErrorBadRequest)
		Post(description = "Update system")
			Parameter(in = path) system as Text
			Parameter(in = query) enabled as Bool
			Response
			Exception(ErrorBadRequest)
	Resource(path = "/systems/:system/:version") SystemVersion
		Get(description = "A system of specific version")
			Parameter(in = path) system as Text
			Parameter(in = path) version as Text
			Response as Text
			Exception(ErrorBadRequest)

	Resource(path = "/servers") servers
		Get(description = "List of servers")
			Response as Text
			Exception(ErrorBadRequest)
		Post(description = "Create server")
			Parameter(in = query) url as Text
			Response
			Exception (ErrorBadRequest)
	Resource(path = "/servers/:server") server
		Get(description = "List of servers")
			Parameter(in = path) server as Text
			Response as Text
			Exception(ErrorBadRequest)
		Post(description = "Update server")
			Parameter(in = path) server as Text
			Response
			Exception(ErrorBadRequest)
		Delete(description = "Delete server") deleteServer
			Parameter(in = path) server as Text
			Response
			Exception(ErrorBadRequest)
	Resource(path = "/servers/:server/:system")
		Post(description = "Deploy system") deploySystem
			Parameter(in = path) server as Text
			Parameter(in = path) system as Text
			Parameter(in = query) isPublic as Bool
			Response

Service(description = "Cesar Build Service") build as REST(host = "", basePath = "build", consumes = "", produces = "")
	Resource(path = "/build") webHooks
		Post(description = "")
			Response
			Exception(ErrorBadRequest)

Task scheduleServerLogging as CronTrigger(pattern = "0 0/2 * * * *", mean = "everyTwoMinutes")
Task scheduleSystemLogging as CronTrigger(pattern = "0 * * * * *", mean = "everyMinute")

Task directoryChecker as DirectorySentinel(directory = "/sample/", events = OnModify OnCreate)