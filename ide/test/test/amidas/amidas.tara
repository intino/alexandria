dsl Konos

//Define federation-name
Exception (NotFound) agentNotFound

Service AgentService as JMS(url= "",user="", password = "", clientId = "")
	subscriptionModel = Topic
	Request(path="authentication") connect
		Parameter token as Bool
		Response as List Object(RequirementList)

	Request(path="{federation}.works") requestForEdition
		Parameter token as Text
		Parameter dialog as List Text
		Parameter requirements as Object(RequirementList)
		Response workId as Text
		exceptionRefs = agentNotFound

	Request(path="{federation}.works.{token}") updateEdition
		Parameter token as Text
		Parameter workId as Text
		Parameter dialog as Text
		Response as Bool
		Exception (NotFound) workNotFound
	Request(path="{federation}.works.{token}") blabla
		Parameter token as File
		Parameter workId as Text
		Parameter dialog as Integer
		Response as List Bool
		Exception (NotFound) workNotFound

	Request(path="{federation}.works") requestForSignature
		Parameter token as Text
		Parameter requirements as Object(RequirementList)
		Response workId as Text List

	Request(path="{federation}.works.{token}") finishWork
		Parameter token as Text
		Parameter workId as Text
		Parameter dialog as Text
		Response as File
		Exception (NotFound) workNotFound

	Notification("{federation}.works.{token}") workReceived
		Parameter workId as Text
		Parameter dialog as Text

	Notification("{federation}.works.{token}") workFinished
		Parameter token as Text
		Parameter workId as Text

	Notification("{federation}.works.{token}") workCancelled
		Parameter token as Text
		Parameter workId as Text

	Notification("{federation}.works.{token}") workReleased
		Parameter token as Text
		Parameter workId as Text

	Notification("{federation}.works.{token}.document") documentSigned
		Parameter token as Text
		Parameter workId as Text
		Parameter document as File

	Notification("{federation}.works.{token}.dialog") fieldModified
		Parameter token as Text
		Parameter workId as Text
		Parameter field as Text
		Parameter value as Text

	Notification("{federation}.works.{token}.dialog") fieldFileAdded
		Parameter token as Text
		Parameter workId as Text
		Parameter field as Text
		Parameter label as Text
		Parameter content as File
		Parameter contentType as Text

	Notification("{federation}.works.{token}.dialog") fieldFileRemoved
		Parameter token as Text
		Parameter workId as Text
		Parameter field as Text
		Parameter fileId as Text

Schema AttributeList
	Attribute name as Text
	Attribute value as Text


Schema(multiple=false) Timeline
	Attribute satisfiedAverage as Real

	Schema(multiple=false) Satisfied
		Schema Point
			Attribute Instant as DateTime
			Attribute value as Real

Schema RequirementList
	Schema Capability
		Attribute name as Text
		Attribute offered as Bool

	Schema Assigned
		Attribute agent as Text

	Schema Skill
		Attribute name as Text

	Schema Location
		Attribute wktPoint as Text

	Schema Authorization
		Attribute name as Text


Schema User
	Attribute queryContext as Text

	Schema(multiple=false) Range
		Attribute from as DateTime
		Attribute to as DateTime

	Schema Query
		Attribute name as Text
		Attribute label as Text


Schema Signature
	Attribute signatureId as Text

	Schema Authorization
		Attribute name as Text

	Schema Assigned
		Attribute username as Text

Schema MeasureThread
    Attribute id as Text
    Attribute Instant as DateTime
    Attribute contact as Text
    Attribute allowContact as Bool
    Attribute service as Text
    Attribute client as Text
    Attribute comments as Text
    Attribute nationality as Text
    Attribute checkInDate as DateTime
    Attribute checkOutDate as DateTime