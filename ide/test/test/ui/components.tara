dsl Konos

Service(title = "", favicon = "") UiElements as UI(port = "9000")
	Resource(path = "/") home as Page(main)

Template main as Decorated
	Header(format=air) appBar
		Text(format=h3) title

	Block(layout=Horizontal Flexible) body

		Block header as Relative(width=25%)
			Selector menu as Menu(layout=Vertical)
				Block(label="data widgets") basicSection as Collapsible
					Text(value="Text") text as Option
					Text(value="Image") image as Option
					Text(value="File") file as Option
					Text(value="Date") date as Option
				Block(label="catalog widgets") catalogSection as Collapsible
					Text(value="Catalog") catalog as Option
					Text(value="Grouping") sorting as Option
					Text(value="Sorting") grouping as Option
				Block(label="operation widgets") operationSection as Collapsible
					Text(value="OpenCatalogOperation") openCatalogOperation as Option
					Text(value="OpenDialogOperation") openDialogOperation as Option
					Text(value="OpenExternalDialogOperation") openExternalDialogOperation as Option
					Text(value="ExportOperation") exportOperation as Option
					Text(value="ExportSelectionOperation") exportSelectionOperation as Option
					Text(value="DownloadOperation") downloadOperation as Option
					Text(value="DownloadSelectionOperation") downloadSelectionOperation as Option
					Text(value="TaskOperation") taskOperation as Option
					Text(value="TaskSelectionOperation") taskSelectionOperation as Option
					Text(value="PreviewOperation") previewOperation as Option
					Text(value="SearchOperation") searchOperation as Option
				Block(label="other widgets") otherSection
					Text(value="Badge") badge as Option
					Text(value="Chip") chip as Option
					Text(value="Card") card as Option
					Text(value="Snackbar") snackbar as Option
					Text(value="Progress") progress as Option
					Text(value="Wizard") wizard as Option

		Block(layout=Vertical Flexible, format=air) panels
			Block textPanel as Conditional(main.body.header.menu.basicSection.text) > Block textBlock as Moldable(widgetMold)
			Block imagePanel as Conditional(main.body.header.menu.basicSection.image) > Block imageBlock as Moldable(widgetMold)
			Block datePanel as Conditional(main.body.header.menu.basicSection.date) > Block dateBlock as Moldable(widgetMold)

Theme theme1
	Primary("#3f51b5")
	Secondary("#ff9100")
	Error("#f44336")

Format h3
Format h5
Format h6
Format body2
Format air > Padding("10px 20px")
Format widgetType > Color("#888")

Translator(Spanish)
	Translation("no properties", "no tiene propiedades")
	Translation("no methods", "no tiene métodos")
	Translation("no events", "no tiene eventos")

//Block(layout=Vertical, spacing=DP24) widgetMold
//
//	Block > Text(value="Campo texto", format=h5)
//		Text(format=Body1) valueA
//		Block > Text valueACode as Code(Html)
//				value
//					=========
//					Konos: Text text1<br/><br/>
//					&nbsp;Java: text1.update("abcd")
//					=========
//	Block > Text(value="Campo texto con título", format=h5)
//		Text(format=Body1) valueB > label = "título del campo"
//		Block > Text valueBCode as Code(Html)
//				value
//					=========
//					Konos: Text text1<br/>
//					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label\="título del campo"<br/><br/>
//					&nbsp;Java: text1.update("efgh")
//					=========
//
//	Block > Text(value="Campo texto editable", format=h5)
//		Text(format=Body1) valueC as Editable > label = "campo editable"

Block imageBlock
	Text(value="Image!!!!!")

Mold(layout=Vertical, spacing=DP24) widgetMold as Decorated
	Text(value="Date widget", format=h3) title

//	Block
//		Date(mode=FromNow, format="dd/MM/YYYY") dateA
//		Block > Text dateACode as Code(Html)
//				value
//					=========
//					Konos: Date date1<br/><br/>
//					&nbsp;Java: date1.update(Instant.now())
//					=========

	Block properties
		Text(value="Properties", format=h5)
		Block property as Multiple("no properties") Moldable(propertyMold)
	Block methods
		Text(value="Methods", format=h5)
		Block method as Multiple("no methods") Moldable(methodMold)
	Block
		Text(value="Events", format=h5)
		Frame(display=eventsDisplay) events

Mold(modelClass="io.intino.alexandria.schemas.Property") propertyMold as Decorated
	Block(layout=Horizontal StartJustified)
		Text(format=h6) name
		Text(format=h6, value=":&nbsp;&nbsp;")
		Text(format=h6 widgetType, mode = Lowercase) type
	Text(format=body2) description
	Block(layout=Horizontal)
		Text(format=body2) valuesLabel
		Text(format=body2 widgetType, value=":&nbsp;&nbsp;")
		Text(format=body2) values

Mold(modelClass="io.intino.alexandria.schemas.Method") methodMold as Decorated
	Block(layout=Horizontal StartJustified)
		Text(format=h6) name
		Text(format=h6, value="(")
		Block(layout = Horizontal) params > Block param as Moldable(methodParamMold) Multiple
		Text(format=h6, value=")")
		Text(format=h6, value=":&nbsp;&nbsp;")
		Text(format=h6 widgetType, mode = Lowercase) returnType
	Text(format=body2) description

Mold(layout=Horizontal, modelClass="io.intino.alexandria.schemas.MethodParameter") methodParamMold as Decorated
	Text(format=h6) name
	Text(format=h6, value=":&nbsp;")
	Text(format=h6) type
	Text(format=h6) comma

Display propertiesDisplay as Decorated
	Notification refresh as Object(Property) List

Display methodsDisplay as Decorated
	Notification refresh as Object(Method) List

Display eventsDisplay as Decorated
	Notification refresh as Object(Event) List

Schema Property
	Attribute name as Text
	Attribute type as Word("Integer" "Word" "Text")
	Attribute values as Text List
	Attribute description as Text

Schema Method
	Attribute name as Text
	Attribute params as Object(MethodParameter) List
	Attribute description as Text
	Attribute returnType as Text

Schema MethodParameter
	Attribute name as Text
	Attribute type as Text

Schema Event
	Attribute name as Text
	Attribute eventType as Text