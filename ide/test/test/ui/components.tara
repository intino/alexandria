dsl Konos

Service(title = "", favicon = "") WidgetsUi as UI(port = "9000")
	Resource(path = "/") home as Page(main)

Template(theme=theme1) main as Decorated
	Header(format=air) appBar
		Text(format=h3) title

	Block(layout=Horizontal Flexible) body

		Block header as Relative(width=30%)
			Selector menu as Menu(layout=Vertical)
				Block(label="data widgets") basicSection as Collapsible
					Text("Text") text as Option
					Text("Image") image as Option
					Text("File") file as Option
					Text("Date") date as Option
				Block(label="catalog widgets") catalogSection as Collapsible
					Text("Catalog") catalog as Option
					Text("Grouping") sorting as Option
					Text("Sorting") grouping as Option
				Block(label="operation widgets") operationSection as Collapsible
					Text("OpenCatalogOperation") openCatalogOperation as Option
					Text("OpenDialogOperation") openDialogOperation as Option
					Text("OpenExternalDialogOperation") openExternalDialogOperation as Option
					Text("ExportOperation") exportOperation as Option
					Text("ExportSelectionOperation") exportSelectionOperation as Option
					Text("DownloadOperation") downloadOperation as Option
					Text("DownloadSelectionOperation") downloadSelectionOperation as Option
					Text("TaskOperation") taskOperation as Option
					Text("TaskSelectionOperation") taskSelectionOperation as Option
					Text("PreviewOperation") previewOperation as Option
					Text("SearchOperation") searchOperation as Option
				Block(label="other widgets") otherSection
					Text("Badge") badge as Option
					Text("Chip") chip as Option
					Text("Card") card as Option
					Text("Snackbar") snackbar as Option
					Text("Progress") progress as Option
					Text("Wizard") wizard as Option

		Block(layout=Vertical Flexible, format=h1) panels
			Block textPanel as Conditional(selected=main.body.header.menu.basicSection.text) > Block textBlock as Moldable(mold=widget)
			Block imagePanel as Conditional(selected=main.body.header.menu.basicSection.image) > Block imageBlock as Moldable(mold=widget)
			Block datePanel as Conditional(selected=main.body.header.menu.basicSection.date) > Block dateBlock as Moldable(mold=widget)
			Block conditionalPanel as Conditional > Block > Text("soy un bloque condicional")

Theme
	Primary("#3f51b5")
	Secondary("#ff9100")
	Error("#f44336")

Format h1
Format h3
Format h5
Format h6
Format air > Padding("10px 20px")

Translator(Spanish)
	Translation("título del campo", "título del campo en dddd")

//Block(layout=Vertical, spacing=DP24) widgetBlock
//
//	Block > Text(value="Campo texto", format=h5)
//		Text(format=Body1) valueA
//		Block > Text valueACode as Code(Html)
//				value
//					=========
//					Konos: Text text1<br/><br/>
//					&nbsp;Java: text1.update("abcd")
//					=========
//	Block > Text(value="Campo texto con título", format=h5)
//		Text(format=Body1) valueB > label = "título del campo"
//		Block > Text valueBCode as Code(Html)
//				value
//					=========
//					Konos: Text text1<br/>
//					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label\="título del campo"<br/><br/>
//					&nbsp;Java: text1.update("efgh")
//					=========
//
//	Block > Text(value="Campo texto editable", format=h5)
//		Text(format=Body1) valueC as Editable > label = "campo editable"

Block imageBlock
	Text(value="Image!!!!!")

Mold(layout=Vertical, spacing=DP24) widget as Decorated
	Text(value="Date widget", format=h3) title

//	Block
//		Date(mode=FromNow, format="dd/MM/YYYY") dateA
//		Block > Text dateACode as Code(Html)
//				value
//					=========
//					Konos: Date date1<br/><br/>
//					&nbsp;Java: date1.update(Instant.now())
//					=========

	Block properties
		Text(value="Properties", format=h5)
//		Frame(display=propertiesDisplay) properties
		Block property as Multiple(emptyMessage="no properties defined") Moldable(mold=propertyMold)
			Mold
				Block(layout=Horizontal StartJustified)
					Text(format=h6) name
					Text(format=h6) type
				Text description
				Block(layout=Horizontal)
					Text valuesLabel
					Text values

	Block
		Text(value="Methods", format=h5)
		Frame(display=methodsDisplay) methods
	Block
		Text(value="Events", format=h5)
		Frame(display=eventsDisplay) events

Mold(modelClass = "io.intino.alexandria.schemas.Property") propertyMold
	Block(layout=Horizontal StartJustified)
		Text(format=h6) name
		Text(format=h6) type
	Text description
	Block(layout=Horizontal)
		Text valuesLabel
		Text values

Display propertiesDisplay as Decorated
	Notification refresh as Object(Property) List

Display methodsDisplay as Decorated
	Notification refresh as Object(Method) List

Display eventsDisplay as Decorated
	Notification refresh as Object(Event) List

Schema Property
	Attribute name as Text
	Attribute type as Word("Integer" "Word" "Text")
	Attribute values as Text List
	Attribute description as Text

Schema Method
	Attribute name as Text
	Attribute params as Object(MethodParameter) List
	Attribute description as Text
	Attribute returnType as Text

Schema MethodParameter
	Attribute name as Text
	Attribute type as Text

Schema Event
	Attribute name as Text
	Attribute eventType as Text