dsl Konos

Service setupV2 as REST(host = "", basePath = "")
	Resource(path = "/configuration") configurationV2
		Get(description="Sensor v2 or v3 configuration")
			Parameter(in = query, required = true) sensor as Text
			Response as Object(schema = Configuration)
			Exception(code = Unauthorized)

	Schema Configuration
		Attribute lockPin as Text

		Schema(multiple=false) Area
			Attribute logoId as Text
			Attribute label as Text
			Attribute key as Text
			Attribute zoneId as Text
			Attribute inputMessage as Text
			Attribute outputMessage as Text
			Attribute issueMessage as Text
			Attribute hasChildren as Bool
			Attribute askAfterContactProvided as Bool
			Attribute type as Text
			Attribute issueIds as Text
				multiple = true
			Attribute contactPatternIds as Text
				multiple = true

			Attribute contactPatternId as Text

			Schema Slot
				Attribute type as Text
				Attribute from as Text
				Attribute to as Text

			Has(Area)

		Schema Issue
			Attribute key as Text
			Attribute label as Text

		Has (Resource)




Service setupV4 as REST(host = "", basePath = "v4")
	Resource(path = "/configuration") configurationV4
		Get(description="Sensor v4 configuration")
			Parameter(in = query, required = true) sensor as Text
			Response as Object(schema = Configuration)
			Exception(code = Unauthorized)

	Schema Configuration
		Attribute lockPin as Text

		Schema(multiple=false) Area
			Attribute logoId as Text
			Attribute label as Text
			Attribute key as Text
			Attribute zoneId as Text
			Attribute inputMessage as Text
			Attribute outputMessage as Text
			Attribute hasChildren as Bool
			Attribute type as Text

			Schema SurveyItem
				Attribute type as Text
				Attribute args as Text
					multiple = true

			Has(Area)

		Has(Resource)

		Schema Job
			Attribute command as Text
			Attribute pattern as Text

Schema Resource
	Attribute id as Text
	Attribute value as Text