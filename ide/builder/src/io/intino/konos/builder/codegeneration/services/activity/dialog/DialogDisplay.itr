def type(dialogDisplay)
	package $package.dialogs;

	import $package+validPackage.$box+SnakeCaseToCamelCase+firstUpperCase~Box;
	import io.intino.alexandria.foundation.activity.model.Dialog;
	import io.intino.alexandria.foundation.activity.dialogs.DialogValidator;
    import io.intino.alexandria.foundation.activity.dialogs.DialogDisplay;

    import java.util.Arrays;

    public abstract class $name+SnakeCaseToCamelCase+firstUpperCase~DialogDisplay extends DialogDisplay {

        public $name+SnakeCaseToCamelCase+firstUpperCase~DialogDisplay($box+SnakeCaseToCamelCase+firstUpperCase~Box box) {
            super(box, buildDialog(box));
        }

        private static Dialog buildDialog($box+SnakeCaseToCamelCase+firstUpperCase~Box box) {
            Dialog dialog = new Dialog();
            $dialog
            return dialog;
        }
    }
end

def type(dialog)
	[dialog.label("$label");]
	[dialog.description("$description");][
	$operation...[$NL]]
	$tab...[$NL]
end

def type(tab)
	Dialog.Tab w$name+SnakeCaseToCamelCase = dialog.createTab("$label");
	$input...[$NL]
end


def trigger(operation)
	dialog.toolbar().createOperation().name("$name")[.label("$label")].execute((operation, username) -> $dialog+FirstUpperCase~Dialog.Toolbar.$execution(box, dialog, operation, username));
end

def type(section)
	Dialog.Tab.Section w$name+SnakeCaseToCamelCase = (Dialog.Tab.Section) w$owner+SnakeCaseToCamelCase.createSection()[$multiple];
	w$name+SnakeCaseToCamelCase.label("$label");
	$input...[$NL]
end

def type(text)
	w$owner+SnakeCaseToCamelCase.createText()[.edition(Dialog.TextEdition.$edition)][.validation($validation)][.label("$label")][.required($required)][.readonly($readonly)][$multiple][.placeholder("$placeholder")][.helper("$helper")][.defaultValue("$defaultValue")][$validator];
end

def type(memo)
	w$owner+SnakeCaseToCamelCase.createMemo()[.mode(Dialog.MemoMode.$mode+firstUpperCase)][.height($height)][.label("$label")][.required($required)][.readonly($readonly)][$multiple][.placeholder("$placeholder")][.helper("$helper")][.defaultValue("$defaultValue")][$validator];
end

def type(radio)
	w$owner+SnakeCaseToCamelCase.createRadioBox()[.source(input -> java.util.Arrays.asList($options+quoted...[, ]))][$source][.label("$label")][.required($required)][.readonly($readonly)][$multiple][.placeholder("$placeholder")][.helper("$helper")][.defaultValue("$defaultValue")][$validator];
end

def type(check)
	w$owner+SnakeCaseToCamelCase.createCheckBox()[.mode(Dialog.CheckBoxMode.$mode+firstUpperCase)][.source(input -> java.util.Arrays.asList($options+quoted...[, ]))][$source][.label("$label")][.required($required)][.readonly($readonly)][$multiple][.placeholder("$placeholder")][.helper("$helper")][.defaultValue("$defaultValue")][$validator];
end

def type(combo)
	w$owner+SnakeCaseToCamelCase.createComboBox()[.source(input -> java.util.Arrays.asList($options+quoted...[, ]))][$source][.label("$label")][.required($required)][.readonly($readonly)][$multiple][.placeholder("$placeholder")][.helper("$helper")][.defaultValue("$defaultValue")][$validator];
end

def type(password)
	w$owner+SnakeCaseToCamelCase.createPassword()[.validation($validation)][.label("$label")][.required($required)][.readonly($readonly)][$multiple][.placeholder("$placeholder")][.helper("$helper")][.defaultValue("$defaultValue")][$validator];
end

def type(file)
	w$owner+SnakeCaseToCamelCase.createFile()[.showPreview($showPreview)][.validation($validation)][.label("$label")][.required($required)][.readonly($readonly)][$multiple][.placeholder("$placeholder")][.helper("$helper")][.defaultValue("$defaultValue")][$validator];
end

def type(picture)
	w$owner+SnakeCaseToCamelCase.createPicture()[.showPreview($showPreview)][.validation($validation)][.label("$label")][.required($required)][.readonly($readonly)][$multiple][.placeholder("$placeholder")][.helper("$helper")][.defaultValue("$defaultValue")][$validator];
end

def type(date)
	w$owner+SnakeCaseToCamelCase.createDate()[.format("$format")][.label("$label")][.required($required)][.readonly($readonly)][$multiple][.placeholder("$placeholder")][.helper("$helper")][.defaultValue("$defaultValue")][$validator];
end

def type(dateTime)
	w$owner+SnakeCaseToCamelCase.createDateTime()[.format("$format")][.label("$label")][.required($required)][.readonly($readonly)][$multiple][.placeholder("$placeholder")][.helper("$helper")][.defaultValue("$defaultValue")][$validator];
end

def type(validation & text)
	new Dialog.Tab.Text.Validation()[.allowedValues(java.util.Arrays.asList($allowedValues+quoted...[, ]))][.disallowedValues(java.util.Arrays.asList($disallowedValues+quoted...[, ]))][.disallowEmptySpaces(java.util.Arrays.asList($disallowEmptySpaces+quoted...[, ]))][.mask($mask)][.lenght($min,$max)]
end

def type(validation & password)
	new Dialog.Tab.Password.Validation()[.allowedValues(java.util.Arrays.asList($allowedValues+quoted...[, ]))][.disallowedValues(java.util.Arrays.asList($disallowedValues+quoted...[, ]))][.disallowEmptySpaces(java.util.Arrays.asList($disallowEmptySpaces+quoted...[, ]))][.mask($mask)][.lenght($min,$max)]
end

def type(validation & resource)
	new Dialog.Tab.Resource.Validation()[.maxSize($maxSize)][.allowedExtensions($allowedExtensions)]
end

def type(validator)
	.validator(input -> $dialog+FirstUpperCase~Dialog.Validators.$name(box, (Dialog.Tab.$type) input))
end

def trigger(source)
	.source(input -> $dialog+FirstUpperCase~Dialog.Sources.$name(box, (Dialog.Tab.$type) input))
end

def trigger(quoted)
	"$value"
end

def type(multiple)
	.multiple($min, $max)
end