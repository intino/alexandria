<link rel="import" href="../../../../lib/polymer/polymer.html">
<link rel="import" href="../../../../lib/cotton-translator/cotton-translator-behavior.html">
<link rel="import" href="../alexandria-breadcrumbs-behavior.html">
<link rel="import" href="alexandria-mold-block.html">
<link rel="import" href="alexandria-mold-layout-behavior.html">

<dom-module id="alexandria-mold-container">

    <template>
        <div id="mold"></div>
    </template>

    <script>
        Polymer({
            is: 'alexandria-mold-container',

            properties : {
                item : { type: Object, observer: '_createMold', value: function() { return null; } },
                mold : { type: String, observer: '_createMold', value: function() { return null; } },
                mode : { type: String, observer: '_createMold', value: function() { return "list"; } }
            },

            highlight : function() {
                var mold = this.querySelector(this.mold);
                if (mold == null) return;
                mold.highlight();
            },

            refreshPicture : function(pictureData) {
                var mold = this.querySelector(this.mold);
                if (mold == null) return;
                mold.refreshPicture(pictureData);
            },

            _createMold : function() {
                if (this.item == null || this.mold == null) return;
                this.$.mold.innerHTML = "";
                var mold = document.createElement(this.mold);
                mold.item = this.item;
                mold.mode = this.mode;
                this.$.mold.appendChild(mold);
            }
        });
    </script>

</dom-module>
