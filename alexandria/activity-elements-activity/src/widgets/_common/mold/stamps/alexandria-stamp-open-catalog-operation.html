<link rel="import" href="../../../../../lib/polymer/polymer.html">
<link rel="import" href="../../../../../lib/paper-dialog/paper-dialog.html">
<link rel="import" href="../../../../../lib/iron-resizable/iron-resizable-behavior.html">
<link rel="import" href="../../../../../lib/cotton-loading/cotton-loading.html">
<link rel="import" href="alexandria-stamp-behavior.html">
<link rel="import" href="../../alexandria-operation-trigger.html">

<dom-module id="alexandria-stamp-open-catalog-operation">

    <template>
        <alexandria-operation-trigger id="trigger" title="[[stamp.label]]" on-execute="_openCatalog"
                                      icon="[[stamp.properties.alexandriaIcon]]"
                                      mode="[[stamp.properties.mode]]"
                                      style$="[[_style]]"></alexandria-operation-trigger>
    </template>

    <style>
    </style>

    <script>
        Polymer({
            is: 'alexandria-stamp-open-catalog-operation',

            behaviors : [ AlexandriaBehaviors.StampBehavior, Polymer.IronResizableBehavior ],

            _openCatalog : function(e) {
                var offset = $(this.$.trigger).offset();
                this.fire("open-catalog", { stamp: this.stamp.name, item: this.stamp.item, position: offset });
                e.stopPropagation();
            }
        });
    </script>

</dom-module>
