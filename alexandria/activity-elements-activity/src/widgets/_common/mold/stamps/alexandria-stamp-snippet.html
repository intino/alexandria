<link rel="import" href="../../../../../lib/polymer/polymer.html">
<link rel="import" href="alexandria-stamp-behavior.html">

<dom-module id="alexandria-stamp-snippet">

    <template>
        <div id="layer" hidden$="[[!stamp.value.length]]" style$="display:none;[[_style]]">
            <div class="text" hidden>[[stamp.value]]</div>
        </div>
    </template>

    <style>
    </style>

    <script>
        Polymer({
            is: 'alexandria-stamp-snippet',

            behaviors: [ AlexandriaBehaviors.StampBehavior ],

            _render : function() {
                var layer = this.$.layer;
                var content = $(layer.querySelector(".text")).text();
                var contentLayer = layer.querySelector(".snippet-content");
                if (contentLayer == null) {
                    contentLayer = document.createElement("div");
                    layer.appendChild(contentLayer);
                }
                contentLayer.className = "snippet-content";
                contentLayer.innerHTML = content;
                layer.style.display = "block";
            }
        });
    </script>

</dom-module>
