<link rel="import" href="../../lib/polymer/polymer.html">
<link rel="import" href="../../lib/cotton-push/cotton-push-behavior.html">
<link rel="import" href="../../lib/cotton-carrier/cotton-carrier-behavior.html">
<link rel="import" href="../../lib/cotton-zombie/cotton-zombie.html">
<link rel="import" href="../../lib/cotton-translator/cotton-translator-behavior.html">
<link rel="import" href="alexandria-catalog.html">
<link rel="import" href="alexandria-temporal-range-catalog.html">
<link rel="import" href="alexandria-temporal-time-catalog.html">

<script src="alexandriapanelcatalogview/requester.js"></script>
<script src="alexandriapanelcatalogview/notifier-listener.js"></script>

<dom-module id="alexandria-panel-catalog-view">

    <template>
        <cotton-zombie id="catalogZombie" display="AlexandriaCatalog" widget="AlexandriaCatalog"></cotton-zombie>
        <cotton-zombie id="temporalRangeCatalogZombie" display="AlexandriaTemporalRangeCatalog" widget="AlexandriaTemporalRangeCatalog"></cotton-zombie>
        <cotton-zombie id="temporalTimeCatalogZombie" display="AlexandriaTemporalTimeCatalog" widget="AlexandriaTemporalTimeCatalog"></cotton-zombie>
    </template>

    <style>
        :host ::content alexandria-catalog ::content .main,
        :host ::content alexandria-temporal-range-catalog ::content .main,
        :host ::content alexandria-temporal-time-catalog ::content .main {
            padding-top: 8px;
            border: 0 !important;
        }
    </style>

    <script>

        const AlexandriaPanelCatalogViewDictionary = {
            es: {
            },
            en: {
            }
        };

        Polymer({
            is: 'alexandria-panel-catalog-view',

            behaviors: [ CottonBehaviors.CarrierBehavior,
                CottonBehaviors.PushBehavior,
                CottonBehaviors.TranslatorBehavior,
                AlexandriaPanelCatalogViewBehaviors.Requester,
                AlexandriaPanelCatalogViewBehaviors.NotifierListener ],

            properties : {
            },

            attached : function() {
                this.translate(AlexandriaPanelCatalogViewDictionary);
                this.listenToDisplay();
                window.setTimeout(() => this._addZombieObjects(), 100);
            },

            _addZombieObjects : function () {
                this.$.catalogZombie.setAttribute("object", this.display.id);
                this.$.temporalRangeCatalogZombie.setAttribute("object", this.display.id);
                this.$.temporalTimeCatalogZombie.setAttribute("object", this.display.id);
            }

        });
    </script>
</dom-module>