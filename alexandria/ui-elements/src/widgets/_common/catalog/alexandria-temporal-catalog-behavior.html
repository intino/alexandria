<script>
    var AlexandriaBehaviors = AlexandriaBehaviors || {};

    AlexandriaBehaviors.TemporalCatalogBehavior = {

        properties : {
            _filtered : { type: Boolean, value: function() { return false; }},
            _navigatorLayout : { type: String, value: function() { return ""; }},
            _temporalNavigatorName : String,
            _hideNavigatorTimeout : Number
        },

        _addScrollListener : function(name) {
            this._temporalNavigatorName = name;
            this.addEventListener("scroll", () => {
                this._showScrollingRangeNavigators(this);
            if (this._hideNavigatorTimeout != null) window.clearTimeout(this._hideNavigatorTimeout);
            this._hideNavigatorTimeout = window.setTimeout(() => this._hideScrollingRangeNavigators(), 1500);
        });
        },

        _showScrollingRangeNavigators : function() {
            var navigator = this.querySelector(this._temporalNavigatorName);
            if (navigator == null || !navigator.isVisible) return;
            $(navigator).addClass("visible");
        },

        _hideScrollingRangeNavigators : function() {
            var navigator = this.querySelector("alexandria-vertical-time-range-navigator");
            if (navigator == null || !navigator.isVisible) return;
            $(navigator).removeClass("visible");
        },

        _loadTimezoneOffset : function() {
            this.timezoneOffset(new Date().getTimezoneOffset()*-1);
        },

        _refreshNavigatorLayout : function(layout) {
            this._navigatorLayout = layout;
        }

    };
</script>
