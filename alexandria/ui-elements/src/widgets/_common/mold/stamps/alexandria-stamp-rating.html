<link rel="import" href="../../../../../lib/polymer/polymer.html">
<link rel="import" href="../../../../../lib/paper-rating/paper-rating.html">
<link rel="import" href="alexandria-stamp-behavior.html">

<dom-module id="alexandria-stamp-rating">

    <template>
        <paper-rating class$="rating [[stamp.classes]]" icon$="[[stamp.properties.icon]]"
                      rating$="[[stamp.value]]" disabled style$="[[_style]]"
                      hidden$="[[!stamp.value.length]]" max="[[stamp.properties.max]]" on-tap="_change"></paper-rating>
    </template>

    <style>
    </style>

    <script>
        Polymer({
            is: 'alexandria-stamp-rating',
            behaviors: [ AlexandriaBehaviors.StampBehavior ],

            _change : function(e) {
                if (!this.stamp.editable) return;
                var value = this.querySelector("paper-rating").rating;
                this.fire("change-item", { stamp: this.stamp.name, item: this.stamp.item, value: value });
            }
        });
    </script>

</dom-module>
